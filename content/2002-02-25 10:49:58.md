Title: tip of the day
Date: 2002-02-25 10:49:58
Category: php
Author: yogi

Comme précisé par veins dans le précédent post, les dernières moutures de PHP vous forcent à coder proprement. Et oui, c'est ainsi, y'a rien à faire, à un moment ou un autre vous allez devoir reprendre vos scripts, alors autant le faire le plus tôt possible.Alors si vous ne comprenez toujours pas ce qui change et pourquoi vos scripts ne marchent pas, c'est parce qu'il convient d'indiquer l'origine de votre variable (directive register_global à 0). En outre, une variable du type script.php?var=value ne se récupère plus simplement via $var, mais via $_GET["var"], ou $HTTP_GET_VARS["var"] si vous souhaitez garder une compatibilité ascendante avec les anciennes versions de PHP. Une variable de formulaire classique (method=post) se récupère avec $HTTP_POST_VARS["var"], un cookie avec $HTTP_COOKIE_VARS["var"], une variable de session avec $HTTP_SESSION_VARS["var"], etc. Il y en a d'autres, referrez vous à la docde PHP à ce sujet. Dans tous les cas, si vous voulez porter vos scripts aisément sous cette configuration de PHP (qui sera à terme la configuration de tous les hébergeurs), vous pouvez simplement écrire, au début de chacun de vos scripts, quelque chose du type : $var = $HTTP_GET_VARS["var"];. Ainsi, vous récupérez toutes vos variables externes, le reste de votre code étant inchangé. C'est pas bien sorcier. Encore plus simple, topez <a href="http://phpmyadmin.sourceforge.net/download.html" target=_blank>phpMyAdmin</a>, et récupérez le fichier <i>grab_globals.inc.php</i>. Incluez le au début de tous vos scripts, et l'affaire est reglée. C'est un peu barbare comme solution, mais ça permet de faire fonctionner correctement vos scripts directement, en attendant une future réécriture.. Voilà, à vos claviers !